% rebase(path)
<link rel="stylesheet" type="text/css" href="/src/modifier_zone_table.css">
<script src="/src/modifier_zone_table.js" type="text/javascript"></script>
{{!data}}

<div class="container">
    <div class="row">
        <div class="entete">
          <h1>Modifier la zone « <span data-bind="text: zone.nom"></span> »</h1>
          <a class="btn btn-primary" data-bind="attr: { href: '/g/modifier_fenetre?id='+$root.fenetre_id()}">Modifier la fenêtre <span class="glyphicon glyphicon-chevron-right"></span></a>
        </div>
    </div>
    <div class="row">
        <form class="col-md-12">
            <div class="form-group">
                <label for="contenu_input">Nom : </label>
                <input id="contenu_input" type="text" class="form-control" placeholder="Nom de la zone..." data-bind="textInput: zone.nom">
            </div>
        </form>
    
        <table class="table table-bordered">
            <tr>
                <!-- ko foreach: new Array(zone.nombre_colonnes()) -->
                <th>Colonne <span data-bind="text: $index()+1"></span></th>
                <!-- /ko -->
            </tr>
            <!-- ko foreach: { data: $data.zone.lignes, as: 'ligne' } -->
        	<tr>
                 <!-- ko foreach: { data: ligne.cellules, as: 'cellule' } -->
        		<td>
                    <div class="form-group">
                        <input type="text" class="form-control" data-bind="textInput: cellule.contenu">
                    </div>
                    <div class="form-group form-inline">
                        <label>Style : </label>
                        <select class="form-control" data-bind="options: $root.choixStyleCellule, optionsText: 'nom', optionsValue: 'attribut', value: cellule.type_style"></select>
                    </div>
        		</td>
                <!-- /ko -->
                <td>
                    <div class="badge_button">
                        <a href="#" class="retirer">X</a>
                    </div>
                </td>
        	</tr>
            <!-- /ko -->
            <tr>
                <th class="badge_button" data-bind="attr: {colspan : $root.zone.nombre_colonnes()+1}">
                    <a href="#" data-toggle="modal" data-target="#modalAjouterZone">+ Ajouter une ligne</a>
                  Nouvelle zone
                </th>
            </tr>
        </table>
    </div>
</div>